{"version":3,"file":"app.js","sources":["../ts/vue/utils/event.ts","../ts/vue/pages/Landing.vue?rollup-plugin-vue=script.ts","../ts/vue/pages/GameList.vue?rollup-plugin-vue=script.ts","../ts/vue/pages/GameActive.vue?rollup-plugin-vue=script.ts","../ts/vue/pages/NotFound.vue?rollup-plugin-vue=script.ts","../ts/vue/App.vue?rollup-plugin-vue=script.ts","../ts/index.ts"],"sourcesContent":["import Vue from 'vue'\r\nimport io from 'socket.io-client'\r\n\r\nconst VueEvent = {\r\n  vue: new Vue(),\r\n  fire (event:string, data?:object) { this.vue.$emit(event, data || null) },\r\n  on (event:string, callback?:Function) { this.vue.$on(event, callback) }\r\n}\r\n\r\nconst SocketEvent = {\r\n  fire (event:string, data?:object, options?:object) { io().emit(event, data || null) },\r\n  on (event:string, callback?:Function) { io().on(event, callback) }\r\n}\r\n\r\nconst VueToObj = (obj:object) => {\r\n  return JSON.parse(JSON.stringify(obj))\r\n}\r\n\r\nexport {\r\n  VueToObj, VueEvent, SocketEvent\r\n}","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { VueEvent } from '../utils/event'\n\nexport default {\n  mounted() {\n    if (!this.$parent.isLoaded) {\n      VueEvent.on('app-ready', this.init)\n    } else {\n      this.init()\n    }\n  },\n  data() { return {}},\n  methods: {\n    init() {\n      if (this.$parent.player.gameId) {\n        this.$router.push(`/games/${this.$parent.player.gameId}`)\n      }\n    }\n  }\n}\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport axios from 'axios'\nimport { VueEvent } from '../utils/event'\n\nexport default {\n  mounted() {\n    if (!this.$parent.isLoaded) {\n      VueEvent.on('app-ready', this.init)\n    } else {\n      this.init()\n    }\n  },\n  beforeMount() {\n    this.updateData = true\n  },\n  beforeDestroy() {\n    this.updateData = false\n  },\n  data() {\n    return {\n      games: [],\n      updateData: true\n    }\n  },\n  methods: {\n    init() {\n      if (this.$parent.player.gameId) {\n        this.$router.push(`/games/${this.$parent.player.gameId}`)\n      } else {\n        this.refreshList()\n      }\n    },\n    refreshData() {\n      axios.get('/api/games/list').then(res => { this.games = res.data })\n    },\n    refreshList() {\n      setTimeout(() => { if(this.updateData) this.refreshList() }, 3000)\n      this.refreshData()\n    },\n    openJoinGameModal(game) {\n      VueEvent.fire('modal-open-join-game', game)\n    },\n    openNewGameModal() {\n      VueEvent.fire('modal-open-new-game')\n    },\n    isPrivate(access) {\n      return access === 'private'\n    }\n  }\n}\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport axios from 'axios'\nimport Vue from 'vue'\nimport { VueEvent } from '../utils/event'\n\nexport default Vue.extend({\n  mounted() {\n      if (!this.$parent.isLoaded) {\n          VueEvent.on('app-ready', this.init)\n      } else {\n          this.init()\n      }\n  },\n  beforeMount() {\n    this.updateData = true\n  },\n  beforeDestroy() {\n    this.updateData = false\n  },\n  data() {\n    return {\n      game: {},\n      isLoaded: false,\n      isStarting: false,\n      isJoining: false,\n      updateData: true\n    }\n  },\n  watch: {\n    '$route': 'init'\n  },\n  methods: {\n    init() {\n      let paramGameId = this.$route.params.gameId\n      let userGameId = this.$parent.player.gameId\n\n      if (userGameId === null) {\n        VueEvent.fire('modal-open-error', { \n          title: 'Unable to join',\n          message: 'Please use the game browser to check if game exists and join it there.'\n        })\n        this.$router.push(`/games`)\n      } else if (userGameId !== paramGameId) {\n        this.$router.push(`/games/${userGameId}`)\n      } else {\n        this.updateGame()\n      }\n    },\n    leaveGame() {\n        axios.post(`/api/game/leave`, {\n            gameId: this.$parent.player.gameId,\n            playerId: this.$parent.player.id\n        }).then(res => {\n            this.$parent.updatePlayerData(null)\n            this.$router.push('/games')\n        })\n    },\n    startGame() {\n      this.isStarting = true\n      axios.post(`/api/game/start`, {\n        gameId: this.$parent.player.gameId,\n        playerId: this.$parent.player.id\n      }).then(res => {\n        if (!res.data.success) {\n          this.isStarting = false\n          VueEvent.fire('modal-open-error', { \n            title: res.data.title,\n            message: res.data.message\n          })\n        }\n      })\n    },\n    updateGameData() {\n      axios.post(`/api/game/data`, {\n        gameId: this.$parent.player.gameId,\n        playerId: this.$parent.player.id\n      }).then(res => {\n        this.isLoaded = true\n        if (res.data.success) {\n          this.game = res.data.game\n        } else {\n          this.$parent.updatePlayerData(null)\n          this.$router.push('/games')\n        }\n      })\n    },\n    updateGame() {\n      setTimeout(() => { if(this.updateData) this.updateGame() }, 3000)\n      this.updateGameData()\n    }\n  },\n  computed: {\n    isHost() {\n      return this.game.host.id && (this.game.host.id === this.$parent.player.id)\n    }\n  }\n})\n","\n\n\n\n\n\n\nimport { VueEvent } from '../utils/event'\n\nexport default {\n  mounted() {\n    if (!this.$parent.isLoaded) {\n      VueEvent.on('app-ready', this.init)\n    } else {\n      this.init()\n    }\n  },\n  methods: {\n    init() {\n      if (this.$parent.player.gameId) {\n        this.$router.push(`/games/${this.$parent.player.gameId}`)\n      }\n    }\n  }\n}\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from 'vue'\nimport VueRouter from 'vue-router'\nimport PageLanding from './pages/Landing.vue'\nimport PageGameList from './pages/GameList.vue'\nimport PageGameActive from './pages/GameActive.vue'\nimport PageNotFound from './pages/NotFound.vue'\nimport { VueEvent, SocketEvent } from './utils/event'\nimport Cookies from 'js-cookie'\nimport axios from 'axios'\n\nconst router = new VueRouter({\n  //mode: 'history',\n  routes: [\n    { path: '/', component: PageLanding },\n    { path: '/games', component: PageGameList },\n    { path: '/games/:gameId', component: PageGameActive },\n    { path: '*', component: PageNotFound }\n  ]\n})\n\n// Make sure a player can only be in one game at a time\nrouter.beforeEach((to, from, next) => {\n  next(vm => {\n    if (vm.$parent.player.gameId && vm.$parent.player.id) {\n      vm.$router.push(`/games/${vm.$parent.player.gameId}`)\n    }\n  })\n})\n\nexport default Vue.extend({\n  router,\n  data() {\n    return {\n      title: 'Ergo Online',\n      subTitle: 'Do you event exist? Prove it!',\n      cookieName: 'ergo-player',\n      player: {\n        id: null,\n        name: null,\n        gameId: null\n      },\n      isLoaded: false\n    }\n  },\n  mounted() {\n\n    SocketEvent.fire('connected');\n    SocketEvent.on('games-list-update', console.log)\n\n    this.init();\n  },\n  methods: {\n    init() {\n\n      let playerCookie = Cookies.get(this.cookieName)\n\n      if (playerCookie !== undefined) {\n        this.player.id = playerCookie.split('|')[1] || null\n        this.player.name = playerCookie.split('|')[2] || null\n        this.player.gameId = playerCookie.split('|')[0] || null\n      }\n\n      // check if player is in game that has not ended\n      if (this.player.id !== null) {\n        axios\n          .post('/api/game/connect', { \n            gameId: this.player.gameId, \n            playerId: this.player.id \n          })\n          .then(res => {\n            this.isLoaded = true\n            if (res.data.success) {\n              this.$router.push(`/games/${this.player.gameId}`)\n            }\n          })\n          // todo; fix this\n          .catch(e => console.error)\n      } else {\n        this.isLoaded = true\n      }\n    },\n    updatePlayerData(data:object) {\n\n      if (data && data.gameId) {\n        this.player.id = data.id\n        this.player.name = data.name\n        this.player.gameId = data.gameId\n        this.updatePlayerCookie(data)\n      } else {\n        this.player.id = null\n        this.player.name = null\n        this.player.gameId = null\n        this.deletePlayerCookie()\n      }\n    },\n    updatePlayerCookie(data:object) {\n      Cookies.set(this.cookieName, `${data.gameId}|${data.id}|${data.name}`, { \n        expires: 7, path: '/' \n      })\n    },\n    deletePlayerCookie() {\n      Cookies.remove(this.cookieName)\n    }\n  },\n  watch: {\n    isLoaded(val:boolean) {\n      if (val) VueEvent.fire('app-ready')\n    }\n  },\n  computed: {\n    isLandingPage() {\n      return this.$route.path === '/'\n    }\n  }\n})\n","import Vue from 'vue'\r\nimport App from './vue/App.vue'\r\n\r\nVue.config.productionTip = false\r\n\r\n/* eslint-disable no-new */\r\nlet v = new Vue({\r\n  el: '#ergoApp',\r\n  template: '<App/>',\r\n  components: { App }\r\n})"],"names":[],"mappings":"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"}